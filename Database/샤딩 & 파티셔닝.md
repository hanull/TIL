# 샤딩(Sharding)과 파티셔닝(Partitioning)
대규모 트래픽, 데이터로 인해 발생한 DB 크기 증가, 성능 저하가 발생했고 이를 해결하기 위한 것이 샤딩, 파티셔닝이다. 샤딩과 파티셔닝은 큰 데이터를 작은 여러개의 서브셋으로 나누어 저장하는 기술을 말한다. 


## 차이점
파티셔닝은 하나의 인스턴스의 여러 테이블에 나누어 저장한다.(테이블을 나눔) 반면, 샤딩은 각 서브셋을 여러 인스턴스에 저장한다.(DB 자체를 나눔)

### 1. 수평 분할(Horizontal Partitioning)
스키마가 같은 데이터를 두 개 이상의 테이블에 나누어 저장하는 디자인을 말한다. 보통 수평 분할을 한다고 했을 때는 하나의 데이터베이스 안에서 이루어지는 경우를 지칭한다.
- ex) 같은 주민 데이터를 처리하기 위해 스키마가 같은 ‘서현동주민 테이블’과 ‘정자동주민 테이블’을 사용하는 것
- 인덱스의 크기가 줄고 인덱스를 통한 조회시간이 줄어든다. 또한, 작업 동시성이 증가한다.

### 2. 샤딩(Sharding)
물리적으로 다른 데이터베이스에 데이터를 수평 분할 방식으로 분산 저장하고 조회하는 방법을 말한다.
- ex)‘주민’ 테이블이 여러 DB에 있을 때 서현동 주민에 대한 정보는 A DB에, 정자동 주민에 대한 정보는 B DB에 저장되도록 하는 방식
- 필요 데이터만 조회 가능하기 때문에 쿼리가 가볍다.
- 오래돼서 조회가 안 되는 데이터를 클라우드에 올리거나 별도의 디스크에 저장해서 운영상의 스토리지 이득을 볼 수 있다.
- 여러 데이터베이스를 대상으로 작업해야 하기 때문에 경우에 따라서는 (JOIN 등) 기능에 제약이 있을 수 있고 일관성(consistency)과 복제(replication) 등에서 불리한 점이 많다.


## 참고
- https://galid1.tistory.com/797
- https://hazelcast.com/glossary/sharding/
- https://seokbeomkim.github.io/posts/partition-and-sharding/
- http://wiki.hash.kr/index.php/%EC%83%A4%EB%94%A9